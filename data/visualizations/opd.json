{
  "report_id": "2",
  "report_name": "OutPatient (OPD)",
  "date_created": "2025-11-26",
  "visualization_types": {
    "counts": [
      {
        "id": "registered",
        "name": "Total Registrations",
        "filters": {
          "measure": "count",
          "unique": "person_id"
        }
      },
      {
        "id": "registered_m",
        "name": "Registered Male",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"Gender",
          "value1":"Male"
        }
      },
      {
        "id": "registered_f",
        "name": "Registered Female",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"Gender",
          "value1":"Female"
        }
      },
      {
        "id": "registered_o",
        "name": "Registered Over 5",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"Age_Group",
          "value1":"Over 5"
        }
      },
      {
        "id": "registered_u",
        "name": "Registered Under 5",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"Age_Group",
          "value1":"Under 5"
        }
      },
      {
        "id": "malaria_t",
        "name": "Malaria Tests",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"obs_value_coded",
          "value1":"Malaria Screening"
        }
      },
      {
        "id": "malaria_c",
        "name": "Malaria Cases",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"obs_value_coded",
          "value1":"Malaria"
        }
      },
      {
        "id": "discharge",
        "name": "Discharges",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"concept_name",
          "value1":"Discharged home"
        }
      },
      {
        "id": "admission",
        "name": "Admitted",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"concept_name",
          "value1":"Admitted"
        }
      },
      {
        "id": "referral",
        "name": "Referred Out",
        "filters": {
          "measure": "count",
          "unique": "person_id",
          "variable1":"concept_name",
          "value1":"Referred Out"
        }
      }   
    ],
    
    "charts": {
      "sections": [
        {
          "section_name": "OPD Attendance",
          "items": [
            {
              "id": "chart1",
              "name": "Daily OPD Attendance - Last 7 Days",
              "type": "Line",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "7days",
                "date_col": "Date",
                "y_col": "encounter_id",
                "title":"Daily OPD Attendance - Last 7 Days",
                "x_title": "Date",
                "y_title": "Number of Patients",
                "unique_column":"person_id",
                "legend_title":"Legend",
                "color":"",
                "filter_col1": "",
                "filter_val1": "",
                "filter_col2": "",
                "filter_val2": ""
                }
            },
            {
              "id": "chart2",
              "name": "Patient Visit Type",
              "type": "Pie",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "names_col": "new_revisit",
                "values_col": "encounter_id",
                "title":"Patient Visit Type",
                "unique_column": "person_id",
                "filter_col1": "",
                "filter_val1": "",
                "filter_col2": "",
                "filter_val2": "",
                "colormap": {
                                "New": "#292D79",
                                "Revisit": "#FE1AD0"
                            }
                }
            },
            {
              "id": "chart1",
              "name": "Age Gender Disaggregation",
              "type": "Histogram",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "age_col": "Age",
                "gender_col": "Gender",
                "title":"Age Gender Disaggregation",
                "x_title": "Program",
                "y_title": "Number of Patients",
                "bin_size": 5,
                "filter_col1": "",
                "filter_val1": "",
                "filter_col2": "",
                "filter_val2": ""
                }
            },
            {
              "id": "chart1",
              "name": "Top Presenting complaints",
              "type": "Bar",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "label_col": "obs_value_coded",
                "value_col": "encounter_id",
                "title": "Top presenting Complaints",
                "x_title": "",
                "y_title": "",
                "top_n":10,
                "filter_col1": "Encounter",
                "filter_val1": "PRESENTING COMPLAINTS",
                "filter_col2": "concept_name",
                "filter_val2": "Presenting complaint"
                }
            },
            {
              "id": "chart1",
              "name": "Lab Tests conducted at the health facility",
              "type": "Column",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "x_col": "obs_value_coded",
                "y_col": "encounter_id",
                "title":"Lab Tests conducted at the health facility",
                "x_title": "Investigation",
                "y_title": "Number of Patients",
                "unique_column":"person_id",
                "legend_title":"Legend",
                "color":"",
                "filter_col1": "Encounter",
                "filter_val1": "LAB ORDERS",
                "filter_col2": "concept_name",
                "filter_val2": "Test type"
                }
            },
            {
              "id": "chart1",
              "name": "Diagnoses",
              "type": "PivotTable",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "index_col1": "obs_value_coded",
                "columns": "Age_Group",
                "values_col":"encounter_id",
                "title": "Diseases diagnosed at the health facility",
                "unique_column":"person_id",
                "aggfunc":"count",
                "filter_col1": "Encounter",
                "filter_val1": "DIAGNOSIS",
                "filter_col2": "concept_name",
                "filter_val2": "Primary diagnosis",
                "x_title": "",
                "y_title": ""
                }
            }
          ]
        },
        {
          "section_name": "Malaria",
          "items": [
            {
              "id": "chart1",
              "name": "Medications dispensed",
              "type": "PivotTable",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "index_col1": "DrugName",
                "columns": "Program",
                "values_col":"ValueN",
                "title": "Medications dispensed",
                "unique_column":"person_id",
                "aggfunc":"sum",
                "filter_col1": "Encounter",
                "filter_val1": "DISPENSING",
                "filter_col2": "",
                "filter_val2": "",
                "x_title": "",
                "y_title": ""
                }
            },
            {
              "id": "chart1",
              "name": "Alcohol Behaviour",
              "type": "Bar",
              "filters": {
                "measure": "chart",
                "unique": "any",
                "duration_default": "any",
                "label_col": "DrugName",
                "value_col": "Program",
                "title": "Medications dispensed",
                "x_title": "",
                "y_title": "",
                "top_n":10,
                "filter_col1": "Encounter",
                "filter_val1": "DISPENSING",
                "filter_col2": "",
                "filter_val2": ""
                }
            }
          ]
        }
      ]
    }
  }
}